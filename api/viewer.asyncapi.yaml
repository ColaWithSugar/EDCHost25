asyncapi: '2.6.0'
info:
  title: EDCHost Viewer API
  version: '0.1.0'
channels: 
  viewer:
    subscribe:
      message:
        payload:
          type: object
          additionalProperties: false
          properties:
            courts:
              type: array
              items:
                type: object
                additionalProperties: false
                properties:
                  cameraId:
                    type: integer
                    description: |
                      The camera id.
                  frame:
                    type: string
                    format: binary
                    description: |
                      The frame.
            elapsedTime:
              type: integer
              description: |
                The elapsed time.
            gameStage:
              type: string
              description: |
                The game stage
              enum:
                - READY
                - RUNNING
                - BATTLING
                - FINISHED
            heightOfChunks:
              type: array
              items:
                type: integer
                minItems: 64
                maxItems: 64
                description: |
                  The height of chunks.
            mines:
              type: array
              items:
                type: object
                additionalProperties: false
                properties:
                  accumulatedCount:
                    type: integer
                    description: |
                      The accumulated count.  
                  mineType:
                    type: string
                    description: |
                      The mine type.
                    enum:
                      - IRON_INGOT
                      - GOLD_INGOT
                      - DIAMOND
                  position:
                    type: object
                    additionalProperties: false
                    properties:
                      x:
                        type: number
                        description: |
                          The x coordinate.
                      y:
                        type: number
                        description: |
                          The y coordinate.
            players:
              type: array
              items:
                type: object
                additionalProperties: false
                properties:
                  homePosition:
                    type: object
                    additionalProperties: false
                    properties:
                      x:
                        type: number
                        description: |
                          The x coordinate.
                      y:
                        type: number
                        description: |
                          The y coordinate.
                  position:
                    type: object
                    additionalProperties: false
                    properties:
                      x:
                        type: number
                        description: |
                          The x coordinate.
                      y:
                        type: number
                        description: |
                          The y coordinate.
                  agility:
                    type: integer
                    description: |
                      The agility point.
                  health:
                    type: integer
                    description: |
                      The health point.
                  maxHealth:
                    type: integer
                    description: |
                      The max health point.
                  strength:
                    type: integer
                    description: |
                      The strength point.
                  hasBed:
                    type: boolean
                    description: |
                      Whether the player has bed.
                  emeraldCount:
                    type: integer
                    description: |
                      The emerald count.
                  woolCount:
                    type: integer
                    format: int8
                    description: |
                      The wool count.
    publish:
      message:
        oneOf:
          - {}
